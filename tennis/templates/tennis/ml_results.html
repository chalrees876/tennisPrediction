
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Document</title>
<!-- MUST load CSS/JS in this order -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.full.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body class="bg-muted">
    <div class="container text-center pt-5">
        <h2>Model Evaluation For All ATP Players</h2>
    </div>

    <div class="container text-center pt-5">
        <h3>Train/Test Scatter Plot</h3>
            <img src="data:image/png;base64,{{ scatter }}" alt="Train/Test scatter" />
    </div>

    <div class="container text-center pt-5">
        <h3>First Serve % Sigmoid</h3>
            <img src="data:image/png;base64,{{ fs_sigmoid }}" alt="First Serve % Sigmoid scatter" />
    </div>

    <div class="container text-center pt-5">
        <h3>Double Faults Sigmoid</h3>
            <img src="data:image/png;base64,{{ df_sigmoid }}" alt="Double Fault Sigmoid scatter" />
    </div>

    <div class="container text-center pt-5">
        <h3>Decision Boundary</h3>
            <img src="data:image/png;base64,{{ db }}" alt="Decision Boundary scatter" />
    </div>

    <div class="container text-center pt-5">
        <h3>Confusion Matrix</h3>
            <img src="data:image/png;base64,{{ heatmap }}" alt="Confusion matrix" />
    </div>

    <div class="container text-center pt-5">
        <h3>Classification Report</h3>
            <pre style="white-space: pre-wrap">{{ cr }}</pre>
    </div>

    <div class="container text-center pt-5">
        <h3>AUC Curve</h3>
            <img src="data:image/png;base64,{{ auc }}" alt="ROC curve" />
    </div>

    <div class="row">
        <div class="container text-center pt-5 col-2 "></div>
        <div class="container text-center text-white pt-5 pb-5 my-5 col border border-primary bg-dark">
            <p class="h5">Back to Home Page</p>
            <form action = "{% url 'home' %}" method = "POST">
                {% csrf_token %}
                <button type="submit">Submit</button>
            </form>
        </div>
        <div class="container text-center pt-5 col-1"></div>
        <div class="container text-center text-white pt-5 pb-5 my-5 col border border-primary bg-dark">
            <p class="h5">Evaluate Specific Player</p>
                <div class="col">
            <form method="get">
                  {{ form.player.label_tag }}
                  {{ form.player }}
                  <button type="submit">Submit</button>
                </form>
            <script>
                  $(function () {
                    $("#player_select").select2({
                      placeholder: "Search playerâ€¦",
                      width: "30%",
                      ajax: {
                        url: "{% url 'player_search' %}",
                        dataType: "json",
                        delay: 150,
                        data: params => ({ search: params.term || "" }),
                        processResults: data => ({ results: data.results })
                      },
                      minimumInputLength: 1,
                      allowClear: true
                    });
                  });
                </script>
        </div>
        </div>
        <div class="container text-center pt-5 col-2"></div>
    </div>


</body>
</html>